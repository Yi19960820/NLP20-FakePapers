Instance segmentation is a task that combines requirements from both semantic segmentation and object detection. It not only needs the pixel-wise semantic labeling, but also requires instance labeling to differentiate each object at a pixel level. Since the semantic labeling can be directly obtained from an existing semantic segmentation approach, most of the instance segmentation methods focus on dealing with the instance labeling problem. This is usually achieved by assigning a unique identifier to all of the pixels belonging to an object instance. Instance labeling becomes a more challenging task when occlusions occur, or when a vastly varying number of objects in a cluttered scene exist. For example, current top performance on the Cityscapes dataset _cite_ only reaches N \% accuracy _cite_ (without external training data) in terms of average precision, which still leaves much room for improvement. Techniques to solve instance segmentation can be roughly grouped into two categories: proposal-based methods and proposal-free methods. In proposal-based methods ~ _cite_, a set of object proposals and their classes are first predicted, then foreground-background segmentation in each bounding box is performed. The proposal-free approaches _cite_ exclude the step of proposal generation. These approaches usually have two stages. The first is to learn a representation (\eg a feature vector, an energy level, breakpoints, or object boundaries) at the pixel level, then in the second stage they group the pixels using a clustering algorithm with the learned representation. Additionally, the proposal-free approaches usually only focus on instance labeling and directly leverage the categorical predictions from semantic segmentation for the semantic labeling. Our approach belongs to the proposal-free style. We reduce the two-stage paradigm to a single forward pass on a fully convolutional network (FCN) _cite_ . We achieve this by designing a novel learning objective, which uses pairwise relationships between pixels as the supervision to guide an FCN to learn pixel-wise clustering. The FCN trained with the proposed objective learns to directly assign a cluster index to each pixel, while each pixel cluster is regarded as an object instance. The clustering is done by the forward propagation of the FCN. It turns out the FCN is capable of learning to do pixel-wise clustering and generalize the learned clustering mechanism to unseen images. The number of cluster indices available in the FCN will limit the number of instances that can be separated by our approach. We provide a strategy to deal with the case of an unlimited number of instances. Inspired by graph coloring theory in how it reuses the indices for coloring a graph, we inject the coloring strategy into our learning objective. Therefore the FCN is trained to assign different indices for the neighboring instances, while reusing the index for the objects that are far away from each other. With the coloring result, each individual instance can be naively recovered by connected components extraction. We formulate the lane detection problem as an instance labeling problem, and our approach won the second place in the lane detection competition of the N CVPR Autonomous Driving Challenge. The difference of accuracy between ours and the first place is insignificant. Considering that the top performer used a large amount of external data for training while we did not, the advantage of our approach becomes even more significant. We are also able to perform the prediction in real-time (_inline_eq_ FPS) . Lane detection is a problem that involves a single category and a limited number of instances; therefore, we extend our evaluation on a multi-category dataset and unlimited instance setting, specifically the Cityscapes dataset. Our approach demonstrates strong performance, achieving N \% AP. By comparing to the N \% AP of the JGD _cite_ which shares similar insights in using graph coloring (also called node labeling), our data-driven learning approach has a significant advantage over their search-based algorithm. In summary, we make several contributions. First, we formulate a novel objective to train an FCN to perform instance labeling. Second, we demonstrate how to combine the graph coloring theorem to augment the learning objective. Third, we empirically show a deep FCN is able to learn to do clustering on image pixels in an end-to-end fashion.