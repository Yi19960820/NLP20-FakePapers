Long-distance visual Simultaneous Localization and Mapping experiences drift that require sophisticated approaches to handle in both uncooperative~ _cite_ and cooperative cases~ _cite_ . When the robot revisits a place, the drift can be greatly reduced by imposing geometric constraints in the posterior optimization (e.g. bundle adjustment) ~ _cite_ . Identifying when a robot has returned to a previously visited place is referred as loop-closure detection. It plays a key role in visual SLAM systems. Since~ _cite_ appearance-based methods have become prevalent in visual loop closure detection, due to their decoupling from the location estimate of the robot. A key research in appearance-based methods is what kind of visual features best describe the scene. Along with the progress of feature descriptor designs, various features have been used in loop-closure detection, from the traditional floating point arithmetic based features such as SIFT~ _cite_, SURF~ _cite_, to the recent binary-encoded features _cite_ . In the typical bag-of-words loop-closure system, a feature is extracted from a single frame after it is matched with the previous frame, then potentially used as a codeword in the vocabulary. Such codewords may not be invariant to the perspective transformation from the robot motion. A common fact in mobile robot applications, arising from the design of appearance-based loop-closure systems, is that the robot often requires similar motion to trigger a loop-closure. The loop-closing image sequence is captured under similar perspective transformations. The key idea in this paper is to learn the codewords by learning feature descriptors invariant to the perspective transformations induced by robot motion. With such codewords, visual features from the same object subjected to perspective distortions are more likely to trigger loop-closure hypotheses and improve the recall. We use binary features due to its overall advantages demonstrated in loop-closure applications (efficient computation with high precision-recall (PR)) ~ _cite_ . Learning binary features is be done by treating the image patches from a matched pair together with the mean patch as a single class, then optimizing the binary test by minimizing the intra-class distance and maximizing the inter-class distance through Linear Discriminants Analysis (LDA) ~ _cite_ . Furthermore, because a codeword is learned from two consecutive images, its consistent nature implies that if an frame is retrieved as a loop-closure hypothesis, its previous or next frame should also be a hypothesis. Based on this, our algorithm imposes temporal constraints in the hypothesis selection, which further improves the precision. In addition, mathematical analysis shows that the codewords learned by our method have nice geometric properties, which theoretically supports the proposed method. The major contributions of our paper include: